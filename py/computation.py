__author__ = 'hallazie'

def params_conv(*args):
	inc, outc, kernel = args[0][0], args[0][1], args[0][2]
	return inc*outc*kernel*kernel

def computation_conv(*args):
	inc, outc, kernel, ins, outs = args[0][0], args[0][1], args[0][2], args[0][3], args[0][4]
	return inc*outc*kernel*kernel*ins*outs

def calculate(config, function):
	size = 0
	for c in config:
		size += function(c)
	return size

def computation_calculate(config):
	size = 0

def main():
	# lwsp
	config_lwsp = [
		(3,64,3),
		(32,16*4,1),
		(16*4,1,3),
		(16*4,16,1),
		(16,16*4,1),
		(16*4,1,3),
		(16*4,16,1),
		(16,24*4,1),
		(24*4,1,3),
		(24*4,24,1),
		(24,24*4,1),
		(24*4,1,3),
		(24*4,24,1),
		(24,24*4,1),
		(24*4,1,3),
		(24*4,24,1),
		(24,32*4,1),
		(32*4,1,3),
		(32*4,32,1),
		(32,32*4,1),
		(32*4,1,3),
		(32*4,32,1),
		(32,32*4,1),
		(32*4,1,3),
		(32*4,32,1),
		(32,32*4,1),
		(32*4,1,3),
		(32*4,32,1),
		(32,64*4,1),
		(64*4,1,3),
		(64*4,64,1),
		(64,64*4,1),
		(64*4,1,3),
		(64*4,64,1),
		(64,12,1)
		]

	config_deepgaze2 = [
		(3,64,3),
		(64,64,3),
		(64,128,3),
		(128,128,3),
		(128,256,3),
		(256,256,3),
		(256,256,3),
		(256,256,3),
		(256,512,3),
		(512,512,3),
		(512,512,3),
		(512,512,3),
		(512,512,3),
		(512,512,3),
		(512,512,3),
		(512,512,3),
		(512*5,16,1),
		(16,32,1),
		(32,2,1),
		(2,1,1)
	]

	config_deepfix = [
		(3,64,3),
		(64,64,3),
		(64,128,3),
		(128,128,3),
		(128,256,3),
		(256,256,3),
		(256,256,3),
		(256,512,3),
		(512,512,3),
		(512,512,3),
		(512,512,3),
		(512,512,3),
		(512,512,3),
		(512,128,1),
		(512,128,1),
		(128,256,3),
		(512,32,1),
		(32,64,3),
		(512,64,1),
		(512,128,1),
		(512,128,1),
		(128,256,3),
		(512,32,1),
		(32,64,3),
		(512,64,1),		
		(512,512,5),		
		(512,512,5),		
		(512,1,1),		
	]

	config_pdp = [
		(3,64,3),
		(64,64,3),
		(64,128,3),
		(128,128,3),
		(128,256,3),
		(256,256,3),
		(256,256,3),
		(256,512,3),
		(512,512,3),
		(512,512,3),
		(512,512,3),
		(512,512,3),
		(512,512,3),
		(512,32,7),
		(32,8,7),
		(8,1,7)
	]

	config_mlnet = [
		(3,64,3),
		(64,64,3),
		(64,128,3),
		(128,128,3),
		(128,256,3),
		(256,256,3),
		(256,256,3),
		(256,512,3),
		(512,512,3),
		(512,512,3),
		(512,512,3),
		(512,512,3),
		(512,512,3),
		(256+512*2,64,3),
		(64,1,1)
	]

	config_salicon = [
		(3,64,3),
		(64,64,3),
		(64,128,3),
		(128,128,3),
		(128,256,3),
		(256,256,3),
		(256,256,3),
		(256,512,3),
		(512,512,3),
		(512,512,3),
		(512,512,3),
		(512,512,3),
		(512,512,3),
		(512*2,1,1)
	]

	config_salgan = [
		(3,64,3),
		(64,64,3),
		(64,128,3),
		(128,128,3),
		(128,256,3),
		(256,256,3),
		(256,256,3),
		(256,512,3),
		(512,512,3),
		(512,512,3),
		(512,512,3),
		(512,512,3),
		(512,512,3),
		(64,64,3),
		(64,64,3),
		(64,128,3),
		(128,128,3),
		(128,256,3),
		(256,256,3),
		(256,256,3),
		(256,512,3),
		(512,512,3),
		(512,512,3),
		(512,512,3),
		(512,512,3),
		(512,512,3),
		(41,1,1)
	]

	# ---------------------------------------------------------------

	config_lwsp_comp = [
		(3,64,3,80,80),
		(32,16*4,1,40,40),
		(16*4,1,3,40,40),
		(16*4,16,1,40,40),
		(16,16*4,1,40,40),
		(16*4,1,3,40,40),
		(16*4,16,1,40,40),
		(16,24*4,1,20,20),
		(24*4,1,3,20,20),
		(24*4,24,1,20,20),
		(24,24*4,1,20,20),
		(24*4,1,3,20,20),
		(24*4,24,1,20,20),
		(24,24*4,1,20,20),
		(24*4,1,3,20,20),
		(24*4,24,1,20,20),
		(24,32*4,1,10,10),
		(32*4,1,3,10,10),
		(32*4,32,1,10,10),
		(32,32*4,1,10,10),
		(32*4,1,3,10,10),
		(32*4,32,1,10,10),
		(32,32*4,1,10,10),
		(32*4,1,3,10,10),
		(32*4,32,1,10,10),
		(32,32*4,1,10,10),
		(32*4,1,3,10,10),
		(32*4,32,1,10,10),
		(32,64*4,1,10,10),
		(64*4,1,3,10,10),
		(64*4,64,1,10,10),
		(64,64*4,1,10,10),
		(64*4,1,3,10,10),
		(64*4,64,1,10,10),
		(64,12,1,10,10)
	]

	config_salicon_comp = [
		(3,64,3,320,240),
		(64,64,3,320,240),
		(64,128,3,160,120),
		(128,128,3,160,120),
		(128,256,3,80,60),
		(256,256,3,80,60),
		(256,256,3,80,60),
		(256,512,3,40,30),
		(512,512,3,40,30),
		(512,512,3,40,30),
		(512,512,3,20,15),
		(512,512,3,20,15),
		(512,512,3,20,15),
		(3,64,3,640,480),
		(64,64,3,640,480),
		(64,128,3,320,240),
		(128,128,3,320,240),
		(128,256,3,160,120),
		(256,256,3,160,120),
		(256,256,3,160,120),
		(256,512,3,80,60),
		(512,512,3,80,60),
		(512,512,3,80,60),
		(512,512,3,40,30),
		(512,512,3,40,30),
		(512,512,3,40,30),
		(512*2,1,1,40,30)
	]

	config_deepgaze2_comp = [
		(3,64,3,640,480),
		(64,64,3,640,480),
		(64,128,3,320,240),
		(128,128,3,320,240),
		(128,256,3,160,120),
		(256,256,3,160,120),
		(256,256,3,160,120),
		(256,256,3,160,120),
		(256,512,3,80,60),
		(512,512,3,80,60),
		(512,512,3,80,60),
		(512,512,3,80,60),
		(512,512,3,40,30),
		(512,512,3,40,30),
		(512,512,3,40,30),
		(512,512,3,40,30),
		(512*5,16,1,40,30),
		(16,32,1,40,30),
		(32,2,1,40,30),
		(2,1,1,40,30)
	]

	config_salgan_comp = [
		(3,64,3,640,480),
		(64,64,3,640,480),
		(64,128,3,320,240),
		(128,128,3,320,240),
		(128,256,3,160,120),
		(256,256,3,160,120),
		(256,256,3,160,120),
		(256,512,3,80,60),
		(512,512,3,80,60),
		(512,512,3,80,60),
		(512,512,3,40,30),
		(512,512,3,40,30),
		(512,512,3,40,30),
		(64,64,3,640,480),
		(64,64,3,640,480),
		(64,128,3,320,240),
		(128,128,3,320,240),
		(128,256,3,160,120),
		(256,256,3,160,120),
		(256,256,3,160,120),
		(256,512,3,80,60),
		(512,512,3,80,60),
		(512,512,3,80,60),
		(512,512,3,40,30),
		(512,512,3,40,30),
		(512,512,3,40,30),
		(41,1,1,40,30)
	]

	config_mlnet_comp = [
		(3,64,3,640,480),
		(64,64,3,640,480),
		(64,128,3,320,240),
		(128,128,3,320,240),
		(128,256,3,160,128),
		(256,256,3,160,128),
		(256,256,3,160,128),
		(256,512,3,80,60),
		(512,512,3,80,60),
		(512,512,3,80,60),
		(512,512,3,80,60),
		(512,512,3,80,60),
		(512,512,3,80,60),
		(256+512*2,64,3,80,60),
		(64,1,1,80,60)
	]

	config_pdp_comp = [
		(3,64,3,640,480),
		(64,64,3,640,480),
		(64,128,3,320,240),
		(128,128,3,320,240),
		(128,256,3,160,128),
		(256,256,3,160,128),
		(256,256,3,160,128),
		(256,512,3,80,60),
		(512,512,3,80,60),
		(512,512,3,80,60),
		(512,512,3,40,30),
		(512,512,3,40,30),
		(512,512,3,40,30),
		(512,32,7,40,30),
		(32,8,7,40,30),
		(8,1,7,40,30)
	]

	config_deepfix_comp = [
		(3,64,3,640,480),
		(64,64,3,640,480),
		(64,128,3,320,240),
		(128,128,3,320,240),
		(128,256,3,160,120),
		(256,256,3,160,120),
		(256,256,3,160,120),
		(256,512,3,80,60),
		(512,512,3,80,60),
		(512,512,3,80,60),
		(512,512,3,80,60),
		(512,512,3,80,60),
		(512,512,3,80,60),
		(512,128,1,80,60),
		(512,128,1,80,60),
		(128,256,3,80,60),
		(512,32,1,80,60),
		(32,64,3,80,60),
		(512,64,1,80,60),
		(512,128,1,80,60),
		(512,128,1,80,60),
		(128,256,3,80,60),
		(512,32,1,80,60),
		(32,64,3,80,60),
		(512,64,1,80,60),		
		(512,512,5,80,60),		
		(512,512,5,80,60),		
		(512,1,1,80,60),		
	]

	print calculate(config_deepfix_comp, computation_conv)

if __name__ == '__main__':
	# main()
	print 0.0703619999886*48